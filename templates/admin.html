<!DOCTYPE HTML>
<link rel="stylesheet" type="text/css" href="../static/css/admin.css">

{% extends "base.html"%}
{% block body%}

<h1 class="title">Administrator's Dashboard</h1>

<form method="POST" enctype="multipart/form-data">
  <div class="input-group">
    <h3>Schedule a Message</h3>
    <div class="col-sm-6 form-group">
      <label>Username</label>
      <input name="email" type="email" class="form-control">    
    </div>
    <div class="col-sm-6 form-group">
      <label>Password</label>
      <input name="password" type="password" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <label>Recipients</label>
      <input name="recipients" type="text" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <label>Recipients</label>
      <select class="form-control" name="recipient-category">
	<option></option>
	{% for collection in collections %}
	<option>{{collection}}</option>
	{% endfor %}
      </select>
    </div>
    <div class="col-sm-12 form-group">
      <label>Subject</label>
      <input name="subject" type="text" class="form-control">
    </div>
    <div class="col-sm-12 form-group">
      <label>Message</label>
      <textarea name="message" class="form-control" rows="3">
      </textarea>
    </div>
    <div class="col-sm-6 form-group">
      <label>Attachments</label><input name="attachment" type="file" multiple>
    </div>
    <div class="col-sm-6 form-group">
      <label>Time</label>
      <input name="time" type="datetime-local" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <input name="schedule-email" class="btn btn-default" type="submit" value="submit">
    </div>
  </div>
</form>
<form method="POST" enctype="multipart/form-data">
  <div class="input-group">
    <h3>Set an Automatic Reply</h3>
    <div class="col-sm-6 form-group">
      <label>Username</label>
      <input name="email" type="email" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <label>Password</label>
      <input name="password" type="password" class="form-control">
    </div>
    <div class="col-sm-12 form-group">
      <label>Response Subject</label>
      <input name="subject" type="text" class="form-control">
    </div>
    <div class="col-sm-12 form-group">
      <label>Response</label>
      <textarea name="response" type="text" class="form-control" rows="3"></textarea>
    </div>
    <div class="col-sm-6 form-group">
      <input name="set-reply" class="btn btn-default" type="submit" value="submit">
    </div>
  </div>
</form>
<form method="POST" enctype="multipart/form-data">
  <div class="input-group">
    <h3>Upload a File to Gallery</h3>
    <div class="col-sm-12 form-group">
      <input type="file" name="file">
    </div>
    <div class="col-sm-12 form-group">
      <input name="upload-file" class="btn btn-default" type="submit" value="submit">
    </div>
  </div>
</form>
<form method="POST" enctype="multipart/form-data">
  <div class="input-group">
    <h3>Add an Event to Schedule</h3>
    <div class="col-sm-12 form-group">
      <label>Event</label>
      <input type="text" name="event" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <label>Start Time</label>
      <input type="datetime-local" name="start" class="form-control">
    </div>
    <div class="col-sm-6 form-group">
      <label>End Time</label>
      <input type="datetime-local" name="end" class="form-control">
    </div>
    <div class="col-sm-12 form-group">
      <label>Event Description</label>
      <textarea name="description" rows="3" class="form-control"></textarea>
    </div>
    <div class="col-sm-12 form-group">
      <input name="edit-schedule" class="btn btn-default" type="submit" value="submit">
    </div>
  </div>
</form>
<form method="POST">
  <h3>User Lists</h3>
  <table class="table">
    <tr>
      {% for attribute in entries[0] %}
      {% if attribute != "password" and attribute != "_id" %}
      <th>{{attribute}}</th>
      {% endif %}
      {% endfor %}
    </tr>
    {% for entry in entries %}
    <tr>
      {% for attribute,value in entry.iteritems() %}
      {% if attribute != "password" and attribute != "_id" %}
      <td>{{ value }}</td>
      <td>
	<div class="checkbox">
	  <label>
	    <input name="delete-entry" type="checkbox" value="{{entry._id}}"> Delete
	  </label>
	</div>
      </td>
      {% endif %}
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
  <input type="submit" name="delete-entries" value="Delete Selected" class="btn btn-default">
</form>
<form method="POST">
  <h3>Edit the Schedule</h3>
  {% for item in schedule %}
  <div class="scheduled-event">
    <strong>Starts:</strong> {{ item.start }}<br>
    <strong>Ends:</strong> {{ item.end }}
    <br>
    <strong>Event:</strong> {{ item.event }}
    <br>
    {{ item.description }}
    <br>
    <div class="checkbox">
      <label>
	<input name="delete-event" type="checkbox" value="{{item._id}}"> Delete
      </label>
    </div>
  </div>
{% endfor %}
  <input type="submit" name="delete-events" value="Delete Selected">
</form>
{% endblock%}


